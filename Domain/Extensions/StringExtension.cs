namespace Domain.Extensions;

public static class StringExtension
{
    private static readonly char[] _characters = "abcdefghijklmnopqrstuvwxyz0123456789".ToCharArray();

    public static string GenerateReferralCode(int length = 20)
    {
        var guid = Guid.NewGuid().ToString("N"); // Генерация Guid и его преобразование в строку без разделителей
        var randomChars = guid.ToCharArray().Select(c => _characters[Convert.ToInt32(c.ToString(), 16) % _characters.Length]).ToArray();
        return new string(randomChars)[..length]; // Возвращаем только первые `length` символов
    }
}
/*
⡝⣻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡄⠀⠀⠀⠀⠀⠀⠀⠀
⡜⢦⡏⣜⡛⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣟⠀⠀⠀⠀⠀⠀⠀⠀⠀
⣙⠮⡵⢪⡝⣹⠲⣬⢍⣛⡛⡟⢿⣿⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⣛⠯⡱⢎⡹⡆⠀⠀⠀⠀⠀⠀⠀⠀
⡝⢮⡕⡳⡜⣥⢋⡟⠿⠿⡿⣿⡿⠿⠞⠋⠻⣟⢭⠫⡝⢯⢿⡏⠉⠉⠻⣿⣿⣿⣏⢯⠹⣱⠪⢵⡩⢞⡱⣋⢖⣳⠀⠀⠀⠀⠀⠀⠀⠀
⡙⢦⡹⢥⡛⡴⣋⠼⣩⣧⠿⠋⠀⠀⠀⠀⠀⢻⣮⢧⣹⣌⢻⣧⠀⠀⠀⠈⠻⣯⡻⢿⣷⣥⣯⢲⡹⣌⢳⡱⢎⣾⡆⠀⠀⠀⠀⠀⠀⠀
⡙⣾⢱⢣⡹⢴⣭⠾⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⢻⣯⣿⢮⣇⣿⠀⠀⠀⠀⠀⠈⠛⠷⣮⣕⣎⡱⡒⢭⠲⣍⠮⣽⡇⠀⠀⠀⠀⠀⠀⠀
⡱⣿⣬⡷⢾⣏⣁⣠⣀⣀⣀⣀⣀⠀⠀⠀⠀⠀⠀⠻⣾⣎⢻⣾⣇⠀⠀⠀⠀⠀⠀⠀⠀⠉⠙⢻⣏⢎⠳⣍⠖⣿⡇⠀⠀⠀⠀⠀⠀⠀
⢵⣿⠁⠀⠀⣿⠿⠛⠟⠻⣿⠿⠿⣿⣶⣦⣤⡄⠀⠀⠘⢿⣄⠙⣿⣦⠀⠀⠀⣀⣀⡀⠀⣀⣀⣿⠏⣜⡓⢮⢩⣻⡇⠀⠀⠀⠀⠀⠀⠀
⣏⢾⡇⠀⠀⣿⠂⠀⠀⠀⣿⠀⠀⠀⠈⠉⠋⠀⠀⠀⠀⠀⠉⠓⠈⠙⣿⡿⠿⢿⠿⢿⣿⠁⣸⣧⠛⣴⡙⡎⣥⢻⣿⡀⠀⠀⠀⠀⠀⠀
⣎⠞⣧⠀⠀⡿⠀⠀⠀⢘⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡟⠁⠀⣾⢠⣿⢆⢻⡰⡱⣍⢦⡙⢿⣄⠀⠀⠀⠀⠀⠀
⣿⣏⢿⡀⢸⡇⠀⠀⠀⢸⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⠀⣸⠇⠀⢸⠇⢸⣯⠎⡵⢊⡵⣾⠷⣝⡎⢿⣆⠀⠀⠀⠀⠀
⡍⣿⢿⣷⣼⠃⠀⠀⠀⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⡟⠀⠀⡿⠀⣸⣧⠛⣬⠳⣼⣿⡧⠉⠛⠷⣿⣇⠀⠀⠀⠀
⡜⣹⡆⠉⣿⠀⠀⠀⢸⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⠁⠀⢠⡇⠀⣿⢢⡛⣷⣹⣿⠼⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀
⡜⡥⣷⣠⡇⠀⠀⠀⡿⠀⠀⠀⠀⠀⢀⣠⣀⣀⣀⣀⣀⠀⠀⠀⠀⠀⢠⡏⠀⠀⢸⠁⢀⣿⢣⢱⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⣾⡰⢻⣿⠀⠀⠀⣸⠃⠀⠀⠀⠀⠀⠈⠀⠀⠀⠀⠀⠉⠉⠙⠳⠆⠀⣼⠃⠀⠀⣿⣠⣿⡷⣭⣾⣿⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⡛⠿⣷⣿⣷⣤⣠⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠏⠀⢀⣼⡿⢫⣽⣷⣿⣿⣟⠀⠀⠀⠀⢀⣶⠻⣦⠀⠀⠀⠀⠀
⣍⠳⣹⣧⡈⠁⣹⡗⠦⣤⡶⢲⡄⠀⢀⡤⣤⠀⠀⠀⠀⠀⠀⠀⣰⣿⣤⣾⠟⡱⡌⢷⠿⡓⠼⣿⣿⣶⡦⢤⡄⣬⣧⠀⠘⣇⢀⠄⠉⠀
⡌⣇⢳⣿⣷⡿⠉⣏⠀⢸⠇⢀⣿⢦⣼⠁⢸⠀⠀⣀⣠⣤⣶⣿⣿⣿⣿⡿⡸⢱⡩⢎⡱⣩⣶⣭⣿⡹⡇⠀⠻⣾⣻⡄⠀⠘⣾⠀⠀⠄
⡱⢌⣾⣿⣿⠇⢰⣧⣤⡞⠀⢸⣧⣿⡇⠀⢸⣿⣿⣿⡟⠙⡿⣿⡟⠻⣿⣇⠳⣡⢓⢣⡱⣹⡇⠈⢿⣿⣷⡀⠀⠙⣯⣿⠀⠀⠈⡆⠀⢘
⡱⢊⣼⣏⡟⠀⠸⣿⣿⡇⠀⢸⣿⣿⠀⠀⢸⣿⣿⣹⠃⢠⣿⡏⠀⢰⣿⡧⡙⡴⣉⢦⡑⠦⢿⡀⠈⢿⣿⣷⠀⠀⢹⡟⠀⠀⢠⠃⠀⡜
⡱⣉⠶⣿⣷⡄⠀⠹⣿⣇⠀⠘⣿⣿⠆⠀⠸⣿⣿⡟⠀⣼⣿⣿⣶⣯⣿⣧⡑⣚⠬⢆⡝⡸⣹⡇⠀⠈⣿⣿⠀⠀⣾⡇⠀⢀⠏⠀⣰⣏
⡗⢬⢎⡛⣧⣻⡄⠀⠈⠛⠃⠀⠈⠋⠀⠀⠀⠛⠛⠃⠀⣿⣿⣿⣿⣿⣿⣿⣶⣧⣚⣱⢪⡕⣼⡇⠀⠀⠛⠃⠀⠀⠉⠀⠀⠈⠀⣰⣫⠿
⡏⡜⢦⡙⢬⣻⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⣣⣾⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡼⠁⠀⠀
⣯⠜⢦⡙⢦⡙⡞⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠊⠀⠀⠀⠀
⣿⡘⢦⡙⢦⠱⣉⢾⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⢀⡔⣀⠀⠀⠀⠀⠀
 */